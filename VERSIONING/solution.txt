üö® Confirmation du Blocage Interne
Le r√©sultat de votre commande PowerShell est le m√™me que pr√©c√©demment :

LocalAddress	State	OwningProcess
::1	Listen	740

Exporter vers Sheets

Le processus PID 740, qui est le composant syst√®me wslrelay (comme nous l'avions identifi√© pr√©c√©demment), est toujours en √©coute sur le port 80 via l'interface IPv6 (::1).

üéØ La Situation Actuelle
Apache est pr√™t (√©coute sur le port 80).

wslrelay est prioritaire (il a pris le port 80 en IPv6).

Cela provoque l'erreur ERR_CONNECTION_REFUSED car wslrelay intercepte et refuse les connexions destin√©es au port 80 avant qu'elles n'atteignent votre serveur Apache sous WSL.

üõ†Ô∏è La Solution D√©finitive : Exclure le Port 80
Puisque wslrelay revient en force m√™me apr√®s wsl --shutdown, nous devons forcer Windows √† interdire l'utilisation du port 80 par tout processus automatique (y compris wslrelay). C'est l'√©tape la plus fiable pour r√©soudre les conflits wslrelay.

1. Ex√©cuter la Commande d'Exclusion (C√¥t√© Windows)
Ouvrez PowerShell en tant qu'Administrateur et ex√©cutez les commandes suivantes pour exclure le port 80 des allocations dynamiques d'IPv4 et IPv6 :

PowerShell

netsh int ipv4 add excludedportrange protocol=tcp startport=80 numberofports=1
netsh int ipv6 add excludedportrange protocol=tcp startport=80 numberofports=1
2. Red√©marrage de la Machine
Pour que ces changements d'exclusion de port soient permanents et pris en compte par le syst√®me de gestion des ports (http.sys), vous devez red√©marrer compl√®tement votre ordinateur Windows.

3. V√©rification Finale (Apr√®s Red√©marrage)
Apr√®s le red√©marrage, ouvrez WSL, d√©marrez Apache (sudo systemctl start apache2), et v√©rifiez dans PowerShell que le port 80 n'est plus utilis√©. Ensuite, testez dans le navigateur : http://monsite.local/.

Avez-vous pu ex√©cuter les commandes netsh pour exclure le port 80 et red√©marrer votre machine ?